<!DOCTYPE html>
<html>
    <head>
        <title>Escape Room - Prototype</title>
        <link rel="icon" type="image/x-icon" href="./assets/favicon.png">
        <script src="./libs/aframe/aframe.min.js"></script>
        <!-- for animations from your glTF mode we need the animation-mixer component from aframe-extras -->
        <script src="./libs/aframe/aframe-extra.min.js"></script>
        <script src="./libs/csg/csg.js"></script>
        <script src="./libs/physics.js" ></script>
        <script src="./lib.js" ></script> 	 
        <script src="./escaperoom.js" ></script>
      </head>
      
      <body>
        
        <a-scene physics cursor="rayOrigin: mouse" raycaster="far: 100; objects: .clickable;">
            
            <a-assets>
                <img id="recitLogo" src="./assets/logo.jpg">

                <!--
                <a-asset-item id="baril1" preload="true" response-type="arraybuffer" src="./assets/baril1.gltf"></a-asset-item>
                <a-asset-item id="baril2" preload="true" response-type="arraybuffer" src="./assets/baril2.gltf"></a-asset-item>
                <a-asset-item id="baril3" preload="true" response-type="arraybuffer" src="./assets/baril3.gltf"></a-asset-item>
                <a-asset-item id="baril4" preload="true" response-type="arraybuffer" src="./assets/baril4.gltf"></a-asset-item>
                -->
            </a-assets>
             <a-player material="color: red;">           
            <a-camera look-controls>
              
            </a-camera>
            <a-entity 
            visible="true"
            id="left-controller-entity"
            oculus-touch-controls="hand: left"
            controller-listener="hand: left">
        </a-entity>
        <a-entity
        visible="true"
        id="right-controller-entity"
        laser-controls="hand: right"
        raycaster="objects: .raycaster-target, .environmentGround;"
        raycaster-graphics="beamImageSrc: #gradient; beamLength: 1;"
        raycaster-controller-grabber
        controller-listener="hand: right">
    </a-entity>

             </a-player>
                <!--<a-cursor id="cursor" raycaster fuse="true" fusetimeout="2000"></a-cursor>-->
            <a-escaperoom position="0 0 0">
                <a-image src="#recitLogo" position="-5.7 0 -5" rotation="0 90 0" width="3"></a-image>
                <a-escaperoom-wall side="back" width="12" height="3.65" thickness=".2" material="wireframe: false; shader: flat; src: ./assets/texture-wall.jpg" collision-detection doorhole='{"position": "center", "width": 1, "height": 2}'>
                    
                </a-escaperoom-wall>
                <a-escaperoom-wall side="left" width="12" height="3.65" thickness=".2" material="wireframe: false; shader: flat; src: ./assets/texture-wall.jpg"  collision-detection>
                </a-escaperoom-wall>
                <a-escaperoom-wall side="right" width="12" height="3.65" thickness=".2" material="wireframe: false; shader: flat; src: ./assets/texture-wall.jpg" collision-detection doorhole='{"position": "center", "width": 1, "height": 2}'>
                    <a-escape-door gltf-model="url(./assets/portem2c.gltf)" ></a-escape-door>
                </a-escaperoom-wall>
                <a-escaperoom-wall side="front" width="12" height="3.65" thickness=".2" material="shader: flat; src: ./assets/texture-wall.jpg" collision-detection doorhole='{"position": "center", "width": 1, "height": 2}'>
                    <a-escape-door gltf-model="url(./assets/portem2c.gltf)"></a-escape-door>
                </a-escaperoom-wall>
                <a-escaperoom-ceiling wall_thickness=".2" width="12" length="12" height="3.65" material="shader: flat; repeat: 4 4; src: ./assets/texture-ceiling.jpg" collision-detection></a-escaperoom-ceiling>
                <a-escaperoom-floor wall_thickness=".2" width="12" length="12" height="3.65" material="shader: flat; src: ./assets/texture-floor.jpg" collision-detection></a-escaperoom-floor>

                
                <a-escaperoom-element material="color: #F00" solution="true" gltf-model="url(./assets/baril2.gltf)" position="-3, -1.5, -7" collision-detection></a-escaperoom-element>
                <!--
                    <a-escape-room-element gltf-model="url(./assets/baril1.gltf)" position="-4, -1.5, -5" ></a-escape-room-element>
                <a-escape-room-element gltf-model="url(./assets/baril3.gltf)" position="3, -1.5, -7" ></a-escape-room-element>
                <a-escape-room-element gltf-model="url(./assets/baril4.gltf)" position="4, -1.5, -5" ></a-escape-room-element>
                -->
                

                <!--
                <a-escape-room-element gltf-model="#baril1" position="-4, -1.5, -5" ></a-escape-room-element>
                <a-escape-room-element gltf-model="#baril2" solution="true"  position="-3, -1.5, -7" ></a-escape-room-element>
                <a-escape-room-element gltf-model="#baril3" position="3, -1.5, -7" ></a-escape-room-element>
                <a-escape-room-element gltf-model="#baril4" position="4, -1.5, -5" ></a-escape-room-element>
                -->
            </a-escaperoom>

           <!--
            <a-escaperoom position="0 0 -12.4">
                <a-image src="#recitLogo" position="5.7 0 -5" rotation="0 270 0" width="3"></a-image>
                <a-escaperoom-wall side="left" width="12" height="3.65" thickness=".2" material="wireframe: false; shader: flat; src: ./assets/texture-wall2.jpg"  collision-detection >
                </a-escaperoom-wall>
                <a-escaperoom-wall side="right" width="12" height="3.65" thickness=".2" material="wireframe: false; shader: flat; src: ./assets/texture-wall2.jpg" collision-detection >
                </a-escaperoom-wall>
                <a-escaperoom-wall side="front" width="12" height="3.65" thickness=".2" material="shader: flat; src: ./assets/texture-wall2.jpg" collision-detection doorhole='{"position": "center", "width": 1, "height": 2}'>
                    <a-escape-door gltf-model="url(./assets/portem2c.gltf)"></a-escape-door>
                </a-escaperoom-wall>
                <a-escaperoom-wall side="back" width="12" height="3.65" thickness=".2" material="wireframe: false; shader: flat; src: ./assets/texture-wall2.jpg"  doorhole='{"position": "center", "width": 1, "height": 2}'>
                </a-escaperoom-wall>
                <a-escaperoom-ceiling wall_thickness=".2" width="12" length="12" height="3.65" material="shader: flat; src: ./assets/texture-ceiling2.jpg" collision-detection></a-escaperoom-ceiling>
                <a-escaperoom-floor wall_thickness=".2" width="12" length="12" height="3.65" material="shader: flat; src: ./assets/texture-floor2.jpg" collision-detection></a-escaperoom-floor>

                
                <a-escaperoom-element material="color: #F00" solution="true" gltf-model="url(./assets/baril2.gltf)" position="-3, -1.5, -7" collision-detection></a-escaperoom-element>
            </a-escaperoom>
            -->
            <a-sky color="#FFF"></a-sky>
        
        </a-scene>
      </body>
</html>
