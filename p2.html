<!DOCTYPE html>
<html>

<head>
  <title>P2</title>
  <script src="vr/js/aframe-v1.2.0.min.js"></script>
  <!--<script src="vr/js/aframe-extras.min.js"></script>
   <script src='vr/js/aframe-environment-component.min.js'></script>-->
   
   <script src="vr/js/aframe-environment-component.min.js"></script>
   <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
   <script src="vr/js/aframe-presentation-component.min.js"></script>
  
  
    <link rel="stylesheet" href="p2.css">
 
    <script>
      AFRAME.registerComponent('slide-environment', {
          schema: {
              settings: { type: 'string', default: 'preset: default' },
          },

          init: function() {
              this.el.addEventListener('a-presentation.slide-active', () => {
                  const { settings } = this.data;

                  if (this.el.sceneEl.getAttribute('environment') === settings) {
                      return;
                  }

                  const elements = [].slice.call(document.querySelectorAll('.environment'));
                  elements.forEach((element) => {
                      element.parentNode.removeChild(element);
                  });

                  this.el.sceneEl.removeAttribute('environment');
                  this.el.sceneEl.setAttribute('environment', settings);
              });
          }
      });

      AFRAME.registerPrimitive('a-slide-environment', {
          defaultComponents: {
              'slide-environment': {},
          },

          mappings: {
              'settings': 'slide-environment.settings',
          }
      });
  </script>
</head>
<!--note: by using red base images for buttons, can tint (HSV) using filter: hue-rotate(); etc.-->

<body style="background-color: black">
  <<main>
    <aside>
      <p class="asideList">Orci nunc naeos sduis sed oin aesent luctus min. Oin sapienma nequesed sodale uam arcused. Torquent liquam necmae malesu volutpa congue lobortis habitas llus. Libero augue facili cras anunc ultricie euismodd maurisin. Esque risusut miin duinulla aesent odioin fermen ras. Lus varius eroscu pretiu non arcu tortor purusp. Varius miquis nequenu euismod integer massased enean molestie phasel. Lectuss imperdie ipsumnam dignis portado in scras. Posuered itur consect usce metiam nibh iaculis quamut.</p>
    </aside>
    <section>
      <input type="checkbox" id="myInput">
      <label for="myInput">
        <span class="bar top"></span>
        <span class="bar middle"></span>
        <span class="bar bottom"></span>
      </label>
      <div class="content">
      <a-scene  environment="preset: forest" vr-mode-ui="enabled: false" style="background-color: black">
        <a-entity id="intro" position="0 3 0">
  <a-plane
          id="slide-background"
          position="0 0 -1"
          scale="50 5 5"
          color="#333"
          shader="flat"
          animation__fadeout="property: opacity; from: 1; to: 0; dur: 500; autoplay: false"
  ></a-plane>
  <a-entity id="slide-1">
      <a-text position="0 .15 -.5" scale=".35 .35 .35" align="center" value="aframe-presentation-component"></a-text>
      <a-text position="0 .05 -.5" scale=".25 .25 .25" align="center" value="By Ruben van der Leun (@rvdleun)"></a-text>
      <a-text position="0 -.2 -.5" scale=".25 .25 .25" align="center" value="Use left/right arrow keys or swipe left/right the screen to navigate"></a-text>
  </a-entity>

  <a-entity id="slide-2">
      <a-text position="2 0 -.5" scale=".3 .3 .3" align="center" value="These AFrame components are\n setup to let you create a presentation..."></a-text>
  </a-entity>

  <a-entity id="slide-3">
      <a-text position="4 0 -.5" scale=".3 .3 .3" align="center" value="that instead of being 2D..."></a-text>
  </a-entity>
</a-entity>

<a-entity id="3d-intro">
  <a-text position="10 20 13" rotation="0 180 0" align="center" scale="3 3 3" value="is 3D instead!"></a-text>
  <a-text
          id="look-at-features"
          position="10 19 13"
          rotation="0 180 0"
          align="center"
          scale="2 0 2"
          value="Let's have a look at the features"
          animation__appear="property: scale; from: 2 0 2; to: 2 2 2; delay: 250; autoplay: false"
  ></a-text>

  <a-text
          id="move-the-camera"
          position="27 5 20"
          rotation="0 -270 0"
          align="center"
          scale="2 2 2"
          value="Move the camera around."
          animation__appear="property: position; from: -20 5 20; to: -13 5 20; dur: 4000; autoplay: false"
          animation__disappear="property: rotation; from: 0 -270 0; to: 0 -90 0; dur: 1200; autoplay: false"
  ></a-text>

  <a-text
          id="trigger-animations"
          position="-13 5 20"
          rotation="0 -90 0"
          align="center"
          scale="2 2 2"
          value="Trigger animations."
          animation__appear="property: rotation; from: 0 -450 0; to: 0 -270 0; dur: 1200; autoplay: false"
          animation__disappear="property: rotation; from: 0 -270 0; to: 0 -90 0; dur: 1200; autoplay: false"
  ></a-text>

  <a-box
          id="animation-box"
          color="red"
          position="-15 6 30"
          visible="false"
          animation__position="property: position; from: -15 6 29; to: -15 6 11; dur: 2500; autoplay: false"
          animation__rotation="property: rotation; from: 0 0 0; to: 360 360 360; dur: 2500; autoplay: false"
  ></a-box>

  <a-text
          id="visibility"
          position="-13 5 20"
          rotation="0 -90 0"
          align="center"
          scale="2 2 2"
          value="Change entities' visibility."
          animation__appear="property: rotation; from: 0 -450 0; to: 0 -270 0; dur: 1200; autoplay: false"
          animation__disappear="property: rotation; from: 0 -270 0; to: 0 -90 0; dur: 1200; autoplay: false"
  ></a-text>

  <a-box
          id="visibility-red"
          position="-13 6 21.5"
          color="red"
          shader="flat"
          visible="false"
  ></a-box>

  <a-box
          id="visibility-green"
          position="-13 6 20"
          color="green"
          shader="flat"
          visible="false"
  ></a-box>

  <a-box
          id="visibility-blue"
          position="-13 6 18.5"
          color="blue"
          shader="flat"
          visible="false"
  ></a-box>

  <a-text
          id="custom-triggers"
          position="-13 5 20"
          rotation="0 -90 0"
          align="center"
          scale="2 2 2"
          value="Hook into the slide events\nto create custom triggers"
          animation__appear="property: rotation; from: 0 -450 0; to: 0 -270 0; dur: 1200; autoplay: false"
          animation__disappear="property: rotation; from: 0 -270 0; to: 0 -90 0; dur: 1200; autoplay: false"
  ></a-text>
</a-entity>

<a-entity id="conclusion">
  <a-text
          id="text-conclusion"
          position="-10 10 21.5"
          rotation="0 -180 0"
          align="center"
          value="THE END\n\nClick on the icon\nin the upper-right to learn more\n\nOr visit /examples.html"
          visible="false"
  ></a-text>
</a-entity>

<a-entity camera></a-entity>
<a-presentation aspect-ratio="16:9">
  <a-slide>
      <a-slide-camera position="0 3 0"></a-slide-camera>
  </a-slide>
  <a-slide>
      <a-slide-camera position="2 3 0" easing="easeInElastic"></a-slide-camera>
  </a-slide>
  <a-slide>
      <a-slide-camera position="4 3 0" easing="easeInQuad"></a-slide-camera>
  </a-slide>
  <a-slide>
      <a-slide-camera position="10 20 10" rotation="0 -180 0" duration="3000" easing="easeInOutQuad"></a-slide-camera>
      <a-slide-animation selector="#slide-background" animations="fadeout"></a-slide-animation>
  </a-slide>
  <a-slide>
      <a-slide-camera position="10 19 10" rotation="0 -180 0" duration="1000"></a-slide-camera>
      <a-slide-animation selector="#look-at-features" animations="appear"></a-slide-animation>
  </a-slide>
  <a-slide>
      <a-slide-animation selector="#move-the-camera" animations="appear"></a-slide-animation>
      <a-slide-camera position="-10 5 20" rotation="0 -270 360" duration="2500"></a-slide-camera>
  </a-slide>
  <a-slide>
      <a-slide-camera position="-10 6 20" rotation="0 -270 360" duration="1500"></a-slide-camera>
      <a-slide-animation selector="#move-the-camera" animations="disappear"></a-slide-animation>
      <a-slide-animation selector="#trigger-animations" animations="appear"></a-slide-animation>
      <a-slide-visibility selector="#animation-box" visibility="true"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-animation selector="#animation-box" animations="position,rotation"></a-slide-animation>
  </a-slide>
  <a-slide>
      <a-slide-animation selector="#trigger-animations" animations="disappear"></a-slide-animation>
      <a-slide-animation selector="#visibility" animations="appear"></a-slide-animation>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#visibility-red" visibility="true"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#visibility-green" visibility="true"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#visibility-blue" visibility="true"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#visibility-red" visibility="false"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#visibility-green" visibility="false"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#visibility-blue" visibility="false"></a-slide-visibility>
  </a-slide>
  <a-slide>
      <a-slide-animation selector="#visibility" animations="disappear"></a-slide-animation>
      <a-slide-animation selector="#custom-triggers" animations="appear"></a-slide-animation>
      <a-slide-environment settings="preset: tron"></a-slide-environment>
  </a-slide>
  <a-slide>
      <a-slide-environment settings="preset: starry"></a-slide-environment>
  </a-slide>
  <a-slide>
      <a-slide-visibility selector="#text-conclusion" visibility="true"></a-slide-visibility>
      <a-slide-camera position="-10 10 20" rotation="0 -180 360" duration="1500"></a-slide-camera>
  </a-slide>
</a-presentation>
</a-scene>
      </div>
</section>
</main>
<!--<script src='vr/js/aframe-inspector.js'></script>-->
</body>
</html>