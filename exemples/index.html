<!doctype html>
<html lang="fr">
<head>
<title>WAll animation</title>
<link rel="icon" type="image/png" href="favicon.ico"/>
<meta name="description" content="3D Application">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="./js/aframe-v1.3.0.js"></script>
<script src="./js/aframe-gui.js"></script>
<script src="./js/gui-env.js"></script>
<script src="./js/aframe-extras.min.js"></script>
<script src="./js/aframe-environment-component.min.js"></script>
<script src="./js/aframe-animation-timeline-component.min.js"></script>
<script src="./js/a-recit.js"></script>
<script src="./js/aframe-proxemic-component.js"></script> 
<script src="./js/a-recitroom/dist/a-recitroom.js" ></script>
<script src="./js/low-cost-raycasting.js"></script>
<script src="./js/polygon-wireframe.js"></script>
<script src="./js/object-parent.js"></script>
<script src="./js/aframe-look-at-component.min.js"></script>
<script src="./js/aframe-event-set-component.min.js"></script>
<script src="./js/aframe-proxy-event-component.min.js"></script>
<script src="./js/thumbstick-states.js"></script>
<script src="./js/raycast-target.js"></script>
<script src="./js/label.js" ></script>
<script src="./js/mouse-manipulation.js" ></script>
<script src="./js/webxr.js"></script>
<script  src="./js/joystick.js"></script>
<script  src="./js/camera-cube-env.js"></script>
<script  src="./js/a-chooseobject.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js" integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- CSS only -->
        <link rel="stylesheet" type="text/css" href="./style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
          integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
          integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.css" integrity="sha512-SZgE3m1he0aEF3tIxxnz/3mXu/u/wlMNxQSnE0Cni9j/O8Gs+TjM9tm1NX34nRQ7GiLwUEzwuE3Wv2FLz2667w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!-- Custom CSS -->
      <style>
        .a-enter-ar-button, .a-enter-vr-button {right:40px; top:40px;  padding:12px; } </style>
      
      
        <!-- Bootstrap Dependencies -->
        <link rel="stylesheet" type="text/css" href="./bootstrap/bootstrap4.min.css">
        <script src="./bootstrap/jquery-3.2.1.slim.min.js" "></script>
       <script src=" ./bootstrap/popper.min.js"></script>
        <script src="./bootstrap/bootstrap.min.js"></script>
        <!--<link rel="stylesheet" type="text/css"  href="./assets/css/style.css" />-->
      
 

 <!-- Custom CSS -->
<style>
 .a-enter-ar-button, .a-enter-vr-button {
  left:40px;
   top:150px; 
   width: 80px;
   padding:12px;
 }
</style>


 <!-- Bootstrap Dependencies -->




<!-- ==================== 
  REGISTER OUR COMPONENT
========================= -->
 <script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelector('a-scene').addEventListener('loaded', () => {
        document.querySelector('.preloader').setAttribute('hidden', true)
    })
})

AFRAME.registerComponent('person-events-component', {
    init() {
        this.resetAnim();
        this.el.addEventListener('areaEnter', () => {
            this.startAnim();
        })
        this.el.addEventListener('areaLeave', () => {
            this.resetAnim();
        })
    },
    startAnim() {
        this.el.setAttribute('animation-mixer', 'clip:*;')
    },
    resetAnim() {
        this.el.setAttribute('animation-mixer', 'clip:none;')
    }
});
 </script>
 

</head>
<body> 
  <div id="preloader" class="preloader preloader-entry">
    <div class="content">
        <div class="loader">
            <img src="https://recitfad.ca/wp-content/themes/ubeo-theme-v3-child/images/logo.png" alt="logo">
            <div>loading application</div>
        </div>
    </div>
</div>
  <div id="aframe">
<a-scene 
camera-position cursor="rayOrigin: mouse"
        raycaster="far: 100; objects: .raycastable;" loading-screen="enabled: false;"
environment="preset: moon; playArea:25; groundColor: black; grid: 1x1"
physics="workerUrl:./js/cannonWorkeroriginal.js; gravity:0 -10 0; debug: true;"
shadow="enabled:true; type: pcfsoft; autoUpdate: true;"
renderer="colorManagement: false; physicallyCorrectLights: false; precision: mediump; antialias: false; alpha: true; logarithmicDepthBuffer: false; "
>
      <a-assets timeout="100000">
    <a-asset-item id="b100" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/Becher100.gltf"></a-asset-item>
    <a-asset-item id="eprou1" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/eprouvette/eprouvetter.gltf"></a-asset-item>
    <a-asset-item id="cy100" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/cylindergraduate2.gltf"></a-asset-item>
    
    <a-asset-item id="poste" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/Poste_travail_1gltf.gltf"></a-asset-item>
  <a-asset-item id="poste-top" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/t2.gltf"></a-asset-item>
    <a-asset-item id="sc-cab1" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/minivb3.gltf"></a-asset-item>
    <a-asset-item id="tray" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/tray.gltf"></a-asset-item>
    <a-asset-item id="chem1" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/chemicals/b1a.gltf"></a-asset-item>
    <a-asset-item id="chem2" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/chemicals/b2.gltf"></a-asset-item>
    <a-asset-item id="chem3" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/chemicals/b3.gltf"></a-asset-item>
    <a-asset-item id="chem4" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/chemicals/p1.gltf"></a-asset-item>
    <a-asset-item id="chem5" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/chemicals/p2.gltf"></a-asset-item>
    <a-asset-item id="CaCO_3" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/chemicals/CaCO_3.gltf"></a-asset-item>

    <a-asset-item id="baril1" preload="true" response-type="arraybuffer" src="./assets/bank/baril1.min.gltf"></a-asset-item>
    <a-asset-item id="baril2" preload="true" response-type="arraybuffer" src="./assets/bank/baril2.min.gltf"></a-asset-item>

    <a-asset-item id="baril3" preload="true" response-type="arraybuffer" src="./assets/bank/baril3.min.gltf"></a-asset-item>
    <a-asset-item id="baril1a" preload="true" response-type="arraybuffer" src="./assets/bank/baril1r.min.gltf"></a-asset-item>
          
   <img id="floor"  src="./assets/floor.png">
  
   <a-mixin id="area"
   material="color: blue; opacity: 0.1; shader: phong; side: double;"
   geometry="primitive: box; width: 2; height: 2; depth: 2;" 
   
   aabb-collider="objects: a-player;"
   event-set__hitstart="material.opacity: 0.1; material.color: orange"
   event-set__hitend="material.opacity: 0.6; material.color: white"
  
   proxy-event__areaEnter="event: hitstart; to: CHILDREN; as: areaEnter;"
   proxy-event__areaLeave="event: hitend; to: CHILDREN; as: areaLeave;"></a-mixin>
  
  <a-mixin id="area_text" position="0 1.5 0" look-at="[camera]" scale="2 2 2"
   event-set__areaEnter="_event: areaEnter; position: -4 1.5 -4; text.color:yellow;"
   event-set__areaLeave="_event: areaLeave; text.color: white;"></a-mixin>
  
  <a-mixin id="area_sound"
   sound="on: areaEnter"
   event-set__areaEnter="_event: areaEnter; sound.volume: 1;"
   event-set__areaLeave="_event: areaLeave; sound.volume: 0;"></a-mixin>
  
  <a-mixin id="area_person" gltf-model="#robot"
   position="0 0 -4.5"
   person-events-component></a-mixin>
  </a-assets>
      <a-player shape locomotion id="rig" position="4 0.3 2" data-aabb-collider-dynamic rotation="0 50 0" >
      <a-entity camera="active: true" look-controls wasd-controls  position="0 1 0">
      </a-entity>
      <!--<a-sphere id="up-marker" position = "0 10 0">
      </a-sphere>
      <a-sphere id="down-marker" position = "0 -10 0">
      </a-sphere>-->
      </a-player>
      <a-plane  position=" 4 0 -12"  height="1" width="1"
      rotation="-90 0 0"></a-plane>

        <a-plane floor material=" color:black; repeat: 700 700; transparent: true;" height="100" width="100"
            rotation="-90 0 0"></a-plane>
        <a-sky color="#00000f"></a-sky>
          
        <a-entity include="./scenes/alaboratory.html"></a-entity>
        <a-entity include="./scenes/arecitroom.html"></a-entity>
        <a-entity include="./scenes/sphere-path.html"></a-entity>
          
          <a-entity mixin="area" position="0.384 0 -3.13">
             <a-sound mixin="area_sound" src="./assets/audio/miseencontexte.mp3"></a-sound>
            <a-text mixin="area_text" value="contexte"></a-text>
          </a-entity>
          <a-entity mixin="area" position="5.4 0 0.12" rotation="0 -30 0">
            <a-entity mixin="area_person"></a-entity>
            <a-sound mixin="area_sound" src="./assets/audio/miseencontexte.mp3"></a-sound>
            <a-text mixin="area_text" value="first area"></a-text>
        </a-entity>
        <a-chooseobject id="chooseobject" position="2.6 0 2.05"  object1="./assets/bank/baril1.min.gltf" object2="./assets/bank/baril1r.min.gltf"
        object3="./assets/bank/baril2.min.gltf" object4="./assets/bank/baril3.min.gltf" good = 2 ></a-chooseobject>
           
        
           <a-entity id="cursor"
           cursor="rayOrigin: mouse"
           raycaster="objects: [raycast-target]; far: Infinity"
           mouse-manipulation>
            </a-entity>

            <a-entity light="type: ambient; intensity: 1; color: #fff"></a-entity>
            <a-entity light="type: spot; angle: 10  intensity: 0.3 target:#poste;" position="15 2.8  5" ></a-entity>
                        
</a-scene>
</div>
<div  id= "pan2" class="m-3"  style="display: block ; width:10%; background-color: white; position:absolute; top:50px; right:120px; padding:12px;">
  <h4 >Résultat : </h4><h4 id="result">0: </h4></div>
  </div>
<button type="input" class="btn btn-primary" style="left:30px; top:30px; padding:12px; position:absolute; ; "  id="ex20a">Info</button>

<div  id= "pan1" class="m-3"  style="display: none ; width:25%; background-color: white; position:absolute; top:70px; left:20px; padding:12px;">
  
 <h1> Laboratoire de science</h1> <form method="post">
  <div class="form-row">
    <div class="col-md-6 mb-3"> 
      <div class="form-group">
      <label for="select_class_layout">Sélectionnez votre activité</label>
      <select class="custom-select custom-select-lg mb-6" id="select_player_type" onchange="select_change()" >
        <option value='normal'>Normal 1</option>
        <option value='dyade'>Dyade</option>
        <option value='quatuor'>Équip de 4</option>
      </select>
    </div>
  </div>
      
  <div class="col-md-6 mb-3">
    <h4> Description</h4>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
  </div>
</div>
    <h2> Laboratoire 1: nom du labo</h2> 
  </form>
  <form class="needs-validation" novalidate>
    <div class="form-row">
      <div class="col-md-6 mb-3">
         <label for="ex42">Paramètre 1</label>
         <input class="form-control"  id="ex42" data-slider-id="ex26Slider" type="text" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-value="10"/>
         <script>
           var slider = new Slider('#ex42');
slider.refresh({ useCurrentValue: true });
         </script>
        <div class="valid-tooltip">
          Looks good!
        </div>
      </div>
      <div class="col-md-6 mb-3">
        <label for="ex43">Paramètre 2</label>
        <input class="form-control"  id="ex43" data-slider-id="ex26Slider" type="text" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-value="10"/>
        <script>
          var slider = new Slider('#ex43');
slider.refresh({ useCurrentValue: true });
        </script>
        <div class="valid-tooltip">
          Looks good!
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6 mb-3">
           <label for="ex52">Paramètre 3</label>
           <input class="form-control"  id="ex52" data-slider-id="ex26Slider" type="text" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-value="10"/>
           <script>
             var slider = new Slider('#ex52');
slider.refresh({ useCurrentValue: true });
           </script>
          <div class="valid-tooltip">
            Looks good!
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="ex53">Paramètre 4</label>
          <input class="form-control"  id="ex53" data-slider-id="ex26Slider" type="text" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-value="10"/>
          <script>
            var slider = new Slider('#ex53');
slider.refresh({ useCurrentValue: true });
          </script>
          <div class="valid-tooltip">
            Looks good!
          </div>
        </div>
      
  
    <button class="btn btn-primary" type="submit">Remmettre le labo</button>
  </form>
  </div>
</div>
  <script>
    function select_change(){
      var classroom = querySelector("a-classroom");
      var ilayout = querySelectorall(".classroom").id;
      console.log(ilayout)

      var latout = document.getElementById("select_class_layout").value;
      switch (layout){
        case  (normal):
        break 
        case  (dyade):
        break
        case  (quatuor):
        break
      }
//document.getElementById("demo").innerHTML = "You selected: " + x;
    }


   $( "#ex20a" ).click(function() {     
$('#pan1').toggle("slide", { direction: "right" }, 1000);
});

/*var scene = document.querySelector('a-scene');
var result = document.querySelector('#result');
scene.eti = scene.systems.state.state.score;
result.innerHTML = scene.eti;
console.log(scene.eti)
scene.addEventListener('increasescore', function () {
scene.eti = scene.systems.state.state.score;
result.innerHTML = scene.eti;
console.log(scene.eti)
});*/
  </script>
  <script>
    
     const ourlabel= document.querySelectorAll("[label]" || "[label-anchor]" ||"[anchor]")
    if (ourlabel)
    {ourlabel.forEach(element => {
      //element.object3D.children[0].Mesh.sgetAttribute("visible")
   // console.log(element.object3D.children[0])
       element.setAttribute("visible",false)
      // element.object3D.children[0].Mesh.setAttribute("visible",false)
    }); 
   
    console.log("ourlabel")
  }
  //  console.log(ourlabel) 
   
    
   
    </script><
<script>
  
</script>
</body>
</html>