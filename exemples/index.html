  <!doctype html>
  <html lang="fr">

  <head>
    <title>WAll animation</title>
    <link rel="icon" type="image/png" href="favicon.ico" />
    <meta name="description" content="3D Application">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="./js/aframe-v1.3.0.js"></script>
    <script src="./js/aframe-gui.js"></script>
    <script src="./js/xylayout-all.js"></script>
    <script src="./js/gui-env.js"></script>
    <script src="./js/aframe-extras.min.js"></script>
    <script src="./js/aframe-environment-component.min.js"></script>
    <script src="./js/aframe-animation-timeline-component.min.js"></script>
    <script src="./js/a-recit.js"></script>
    <script src="./js/libs/ecouteouvre.js"> </script>

    <script src="./js/aframe-proxemic-component.js"></script>
    <script src="./js/a-recitroom/dist/a-recitroom.js"></script>
    <script src="./js/low-cost-raycasting.js"></script>
    <script src="./js/polygon-wireframe.js"></script>
    <script src="./js/object-parent.js"></script>
    <script src="./js/aframe-look-at-component.min.js"></script>
    <script src="./js/aframe-event-set-component.min.js"></script>
    <script src="./js/aframe-proxy-event-component.min.js"></script>
    <script src="./js/thumbstick-states.js"></script>
    <script src="./js/raycast-target.js"></script>
    <script src="./js/label.js"></script>
    <script src="./js/mouse-manipulation.js"></script>
    <!--<script src="./js/laser-manipulation.js"></script>-->
    <script src="./js/webxr.js"></script>
    <script src="./js/joystick.js"></script>
    <script src="./js/camera-cube-env.js"></script>
    <script src="./js/a-chooseobject.js"></script>
    <script src="./js/recitbreackoutgame.js"> </script>
    <script src="./js/injectregisterlock.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"
      integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- CSS only -->
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
      integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.css"
      integrity="sha512-SZgE3m1he0aEF3tIxxnz/3mXu/u/wlMNxQSnE0Cni9j/O8Gs+TjM9tm1NX34nRQ7GiLwUEzwuE3Wv2FLz2667w=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Custom CSS -->
    <style>
      .a-enter-ar-button,
      .a-enter-vr-button {
        right: 40px;
        top: 40px;
        padding: 12px;
      }
      .preloader {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: var(--z-interface);
    transition: all 1s
}

.preloader:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.95) 38%, rgba(239, 243, 252, 0.95) 93%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff", endColorstr="#eff3fc", GradientType=1)
}

.preloader .content {
    z-index: var(--z-top);
    max-width: 80%
}

.preloader .content .loader img {
    max-width: 100%
}

.preloader[hidden] {
    visibility: hidden;
    opacity: 0
}
.a-modal {
    display: none !important
}
    </style>


    <!-- Bootstrap Dependencies -->
    <link rel="stylesheet" type="text/css" href="./bootstrap/bootstrap4.min.css">
    <script src="./bootstrap/jquery-3.2.1.slim.min.js" "></script>
       <script src=" ./bootstrap/popper.min.js"> </script> <script src="./bootstrap/bootstrap.min.js"></script>
    <!--<link rel="stylesheet" type="text/css"  href="./assets/css/style.css" />-->



    <!-- Custom CSS -->
  


    <!-- Bootstrap Dependencies -->




    <!-- ==================== 
  REGISTER OUR COMPONENT
========================= -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelector('a-main').addEventListener('loaded', () => {
          document.querySelector('.preloader').setAttribute('hidden', true)
        })
      })

      AFRAME.registerComponent('person-events-component', {
        init() {
          this.resetAnim();
          this.el.addEventListener('areaEnter', () => {
            this.startAnim();
          })
          this.el.addEventListener('areaLeave', () => {
            this.resetAnim();
          })
        },
        startAnim() {
          this.el.setAttribute('animation-mixer', 'clip:*;')
        },
        resetAnim() {
          this.el.setAttribute('animation-mixer', 'clip:none;')
        }
      });
    </script>
    <script>
/**
 *   raycaster-extras:
 *   - draws a fading beam along raycaster direction
 *   - beam color changes while pressing right trigger or right grip
 *   - draws a cursor marker at first raycaster intersection point
 */

 AFRAME.registerComponent('raycaster-extras', {

schema:
{
    controllerListenerId:  {type: 'string',  default: "#controller-data"},

    beamRadius:   {type: 'float',  default: 0.003},
    beamLength:   {type: 'float',  default: 0.400},
    beamColor:    {type: 'color',  default: "white"},
    beamOpacity:  {type: 'float',  default: 0.50},
    beamImageSrc: {type: 'string', default: "#gradient"},
    cursorRadius: {type: 'float',  default: 0.020},
    cursorColor:  {type: 'color',  default: "white"},
},

init: function () 
{
    // disable default raycaster line
    this.raycaster = this.el.components["raycaster"];
    this.raycaster.data.showLine = false; 
    this.raycaster.data.lineOpacity = 0.0; 


    // draw light beam: thin textured cylinder along raycaster direction
    this.beamEntity = document.createElement("a-cylinder");
    this.beamEntity.setAttribute("radius", this.data.beamRadius);
    this.beamEntity.setAttribute("height", this.data.beamLength);
    // these are used to set beam position/rotation in tick function
    this.currentBeamDirection = null;
    this.currentBeamOrigin    = null;
    this.vectorsEqual = function(v, w)
    {  return ((v.x == w.x) && (v.y == w.y) && (v.z == w.z));  }        
    this.beamEntity.setAttribute("material", "shader: flat; transparent: true; repeat: 2 1;");
    this.beamEntity.setAttribute("material", "src", this.data.beamImageSrc);
    this.beamEntity.setAttribute("material", "color", this.data.beamColor);
    this.beamEntity.setAttribute("material", "opacity", this.data.beamOpacity);
    this.el.appendChild(this.beamEntity);


    // draw a sphere with border to illustrate closest raycaster intersection point
    this.cursorEntity = document.createElement('a-entity');
    this.cursorEntity.setAttribute("id", "cursor-ball");
    // attach to scene
    document.querySelector('a-scene').appendChild(this.cursorEntity);

    this.cursorBorder = document.createElement('a-sphere');
    this.cursorBorder.setAttribute("radius", this.data.cursorRadius);
    this.cursorBorder.setAttribute("material", "shader: flat; color: black; side: back;");
    this.cursorBorder.setAttribute("overlay", "");
    this.cursorEntity.appendChild(this.cursorBorder);

    this.cursorCenter = document.createElement('a-sphere');
    this.cursorCenter.setAttribute("radius", this.data.cursorRadius * 0.80);
    this.cursorCenter.setAttribute("material", "shader: flat; side: front;");
    this.cursorCenter.setAttribute("material", "color", this.data.cursorColor);
    this.cursorCenter.setAttribute("overlay", "");
    this.cursorEntity.appendChild(this.cursorCenter);

    this.controllerData = document.querySelector(this.data.controllerListenerId).components["controller-listener"];

    this.intersectionPoint = null;
    this.focusedElement = null;
    this.grabbedElement = null;

    // calculate translation vector for moving grabbed object along beam
    this.tempVector  = new THREE.Vector3();
    this.tempVector1 = new THREE.Vector3();
    this.tempVector2 = new THREE.Vector3();
    // use when moving grabbed object along raycaster beam
    this.clock = new THREE.Clock();
    this.moveSpeed = 1;

},

tick: function () 
{
    let deltaTime = this.clock.getDelta();

    // change color of beam when interacting with trigger or grip button ==================================

    if ( this.controllerData.rightTrigger.pressing || this.controllerData.rightGrip.pressing )
        this.beamEntity.setAttribute("material", "color", "cyan");
    else
        this.beamEntity.setAttribute("material", "color", this.data.beamColor);

    // calculate position and rotation of beam ============================================================

    // based on model-specific values that customize raycaster line;
    // note: this data may change when switching from browser to VR mode, so need to keep checking in tick()
    let raycasterConfig     = this.el.getAttribute("raycaster");
    let currentRayDirection = raycasterConfig.direction;
    let currentRayOrigin    = raycasterConfig.origin;

    if ( this.currentBeamDirection == null || this.currentBeamOrigin == null ||
        !this.vectorsEqual(this.currentBeamOrigin, currentRayOrigin) ||
        !this.vectorsEqual(this.currentBeamDirection, currentRayDirection) )
    {

        // align beam rotation with ray direction angle
        //  (beam is always only rotated around x-axis)
        let beamAngleX = 180 + Math.atan2(currentRayDirection.z, currentRayDirection.y) * 180/Math.PI;
        let rot = {x: beamAngleX, y: 0, z: 0};
        this.beamEntity.setAttribute("rotation", rot);
        this.currentBeamDirection = currentRayDirection;
        
        this.beamAngleX = beamAngleX;

        // align beam position with ray origin point
        //  and shift so beam cylinder end is at origin
        let angleRad = beamAngleX * Math.PI/180;
        let cylinderShift = this.data.beamLength / 2.05;
        let pos = { x: currentRayOrigin.x, 
                    y: currentRayOrigin.y - Math.cos(angleRad) * cylinderShift,
                    z: currentRayOrigin.z - Math.sin(angleRad) * cylinderShift };
        this.beamEntity.setAttribute("position", pos);
        this.currentBeamOrigin = currentRayOrigin;
    }

    // update which element has focus ===================================================================
    
    if (this.raycaster.intersectionDetail.intersections && 
        this.raycaster.intersectionDetail.intersections.length > 0 )
    {
        this.focusedElement = this.raycaster.intersectionDetail.els[0];
        this.intersectionPoint = this.raycaster.intersectionDetail.intersections[0].point;
    }
    else
    {
        this.focusedElement = null;
        this.intersectionPoint = null;
    }

    // move cursor entity to point of intersection ======================================================

    // Strange bug:
    // If raycaster is intersecting an element,
    //   and then raycaster also starts to intersect another element behind the first,
    //   the "intersections" array becomes empty.
    // This does not happen if second intersection is closer.

    // Hacky workaround: default raycaster sets far = 100;
    //  when there is an intersection, reduce far to current distance (plus epsilon)
    //  so it is not possible to suddenly intersect an object behind current intersect.
    // Also implements registering only one intersection at a time.

    if ( this.focusedElement != null )
    {
        this.cursorEntity.setAttribute("visible", true)

        this.cursorEntity.setAttribute("position", 
            { x: this.intersectionPoint.x, 
              y: this.intersectionPoint.y, 
              z: this.intersectionPoint.z } );

        // shorten raycaster
        let dist = this.raycaster.intersectionDetail.intersections[0].distance;
        this.el.setAttribute("raycaster", "far", dist + 0.1);
    }
    else
    {
        this.cursorEntity.setAttribute("visible", false)
        this.el.setAttribute("raycaster", "far", 12);
    }

    // grab element =====================================================================================


    if ( this.controllerData.rightGrip.pressed &&
         this.focusedElement != null && this.grabbedElement == null )
    {
        // if it can be grabbed...
        if ( this.focusedElement.components["raycaster-target"] &&
             this.focusedElement.components["raycaster-target"].data.canGrab )
        {
            // Attach grabbed entity to this object (controller).
            // Note: not changing the A-Frame DOM tree, because this is temporary
            //   and will be added back to the scene when dropped.
            this.el.object3D.attach( this.focusedElement.object3D );

            // raycaster-graphics keeps setting cursorEntity visible true,
            //  so force cursor hidden by making setting children visibility to false
            //  why? easier to focus on object without cursor in the way.
            this.cursorCenter.setAttribute("visible", false);
            this.cursorBorder.setAttribute("visible", false);

            // turn off emission (set by raycaster-hover-glow)
            this.focusedElement.setAttribute("material", "emissive", "#000000");

            // focused element is now also the grabbed element
            this.grabbedElement = this.focusedElement;
            this.grabbedElement.components["raycaster-target"].isGrabbed = true;

            // emit an event
            this.grabbedElement.emit( "raycaster-grabbed", {el: this.grabbedElement} );
        }

    }

    // perform actions on grabbed element ===============================================================


    if ( this.grabbedElement != null )
    {
        // pushing/pulling grabbed object ---------------------------------------------------------------
        if ( this.controllerData.rightAxisY != 0 )
        {
            // do all calculations in world coordinates
            this.el.object3D.getWorldPosition(this.tempVector1);
            this.cursorEntity.object3D.getWorldPosition(this.tempVector2);

            // find distance from grabbed object to controller
            this.tempVector.subVectors( this.tempVector2, this.tempVector1 );
            let distance = this.tempVector.length();

            // if not pulling entity that is too close, then okay to move it
            if ( !(this.controllerData.rightAxisY > 0 && distance < 0.05) )
            {
                let moveDistance = 2 * this.moveSpeed * deltaTime * this.controllerData.rightAxisY;
                // move faster if pressing trigger at same time
                moveDistance *= (1 + 1 * this.controllerData.rightTrigger.value);

                this.tempVector.setLength(moveDistance);


                // temporarily attach element back to root scene
                this.grabbedElement.sceneEl.object3D.attach( this.grabbedElement.object3D );
                // translate
                this.grabbedElement.object3D.position.sub( this.tempVector );
                // reattach to controller
                this.el.object3D.attach( this.grabbedElement.object3D );


                // repeat and move (animate) texture of beam entity
                let material = this.beamEntity.getAttribute("material");
                material.repeat.x = 2;
                material.repeat.y = 30;
                material.offset.y -= 10 * moveDistance;
                this.beamEntity.setAttribute("material", material);
                
            }
        }
        else // if not pushing/pulling, revert beam graphics to solid line ------------------------------
        {
            let material = this.beamEntity.getAttribute("material");
            material.repeat.x = 2;
            material.repeat.y = 1;
            material.offset.y = 0.001; // weird bug when setting to 0; does not change
            this.beamEntity.setAttribute("material", material);
        }

        // drop grabbed element -------------------------------------------------------------------------
        if ( this.controllerData.rightGrip.released )
        {
            // attach element back to root scene
            this.grabbedElement.sceneEl.object3D.attach( this.grabbedElement.object3D );

            // revert previous changes
            let material = this.beamEntity.getAttribute("material");
            material.repeat.x = 2;
            material.repeat.y = 1;
            material.offset.y = 0.001;
            this.beamEntity.setAttribute("material", material);

            this.cursorCenter.setAttribute("visible", true);
            this.cursorBorder.setAttribute("visible", true);

            this.grabbedElement.components["raycaster-target"].isGrabbed = false;
            
            if ( this.grabbedElement.components["raycaster-target"].data.glowOnHover )
                 this.grabbedElement.setAttribute("material", "emissive", "#444444");

            // emit an event
            this.grabbedElement.emit( "raycaster-released", {el: this.grabbedElement} );

            this.grabbedElement = null;
        }

    }

    // ==================================================================================================

}
});



// The "overlay" component forces objects to render last,
//  so they not occluded by any part of an opaque objects.

// This is being used for the raycaster-graphics' cursor
//  so that it is always fully visible to the user
//  (more reliable than just a billboarded texture).
AFRAME.registerComponent("overlay", {
init: function () 
{
    this.el.sceneEl.renderer.sortObjects = true;
    this.el.object3D.renderOrder = 100;
    this.el.components.material.material.depthTest = false;
}
});


// set a variable to indicate when object has focus (targeted by raycaster)
// optional: make objects brighter when raycaster intersects them
AFRAME.registerComponent('raycaster-target', {

schema:
{
    glowOnHover: {type: 'boolean', default: true},
    canGrab:     {type: 'boolean', default: false},
},

init: function () 
{
    // assumes that raycaster's object parameter includes class "raycaster-target"
    //   in order to register intersections of ray with this object
    this.el.classList.add("raycaster-target");

    this.hasFocus  = false;
    this.isGrabbed = false;

    let self = this;

    // this happens once, when intersection begins
    this.el.addEventListener("raycaster-intersected", function(event)
        { 
            self.hasFocus = true;
            if (self.data.glowOnHover)
                self.el.setAttribute("material", "emissive", "#444444"); 
        } 
    );

    // this happens once, when intersection ends
    this.el.addEventListener("raycaster-intersected-cleared", function(event)
        { 
            self.hasFocus = false;
            if (self.data.glowOnHover)
                self.el.setAttribute("material", "emissive", "#000000"); 
        } 
    );
}
});

    </script>

  </head>

  <body>
   
    <div id="aframe">
      <div id="preloader" class="preloader preloader-entry">
        <div class="content">
            <div class="loader">
                <img src="https://inplayo.com/wp-content/themes/inplayo/assets/images/logo/inplayo.svg" alt="logo">
                <div>loading application</div>
            </div>
        </div>
    </div>
      <a-scene animation-timeline__1="timeline: #depart; loop: false; startEvents:loaded"
        physics="workerUrl:./js/cannonWorkeroriginal.js; gravity:0 -10 0; debug: true;"
        shadow="enabled:true; type: pcfsoft; autoUpdate: true;"
        renderer="colorManagement: false; physicallyCorrectLights: false; precision: mediump; antialias: false; alpha: true; logarithmicDepthBuffer: false; ">
        <a-assets timeout="100000">
          <a-timeline id="depart">
            <a-timeline-animation select="#text1" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#text1" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#text1" name="fadeout"></a-timeline-animation>
            <a-timeline-animation select="#text1" name="togglevisibleoff"></a-timeline-animation>


          </a-timeline>
          <a-mixin id="box" geometry="primitive: box" material="color: #AAA; opacity: 0"
            animation__fadein="property: material.opacity; dur: 2000; from: 0; to: 1; autoplay: false"
            animation__scale="property: scale; to: 2 20 2; dur: 2000; easing: easeInOutElastic; autoplay: false"
            animation__position="property: position; to: 0 30 -3; dur: 2000; autoplay: false"
            animation__color="property: material.color; from: #AAA; to: #222; dur: 2500; autoplay: false"
            animation__rotate="property: rotation; to: 0 360; dur: 1000; easing: easeInQuad; autoplay: false"
            scale="0.0001 0.0001 0.0001"></a-mixin>

          <a-mixin id="text"
            text="align: center; color: #000; width: 9; opacity: 0; negate:false;    font:../fontfr/viga.regular-msdf.json; font-image:../fontfr/vigaregular.png;"
            animation__fadein="property: text.opacity; from: 0; to: 1; dur: 3000; easing: linear; autoplay: false"
            animation__fadeout="property: text.opacity; from: 1; to: 0; dur: 3000; easing: linear; autoplay: false"
            animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
            animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; autoplay: false"
            position="6 2 2" rotation="0 -90 0" visible="false"></a-mixin>

          <a-mixin id="texte"
            text="align: center; color: #0069bf; width: 9; opacity: 0; negate:false;   font:../fontfr/Ubuntu-Th-msdf.json; font-image:../fontfr/Ubuntu-Th.png;"
            animation__fadein1="property: text.opacity; from: 0; to: 1; dur: 3000; easing: linear; autoplay: false"
            animation__fadeout1="property: text.opacity; from: 1; to: 0; dur: 3000; easing: linear; autoplay: false"
            animation__togglevisible1="property: visible; from: false; to: true; dur: 1; autoplay: false"
            animation__togglevisibleoff1="property: visible; from: true; to: false; dur: 1; autoplay: false"
            position="6 2 2" rotation="0 -90 0" visible="false"></a-mixin>


          <a-asset-item id="b100" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/Becher100.gltf"></a-asset-item>
          <a-asset-item id="eprou1" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/eprouvette/eprouvetter.gltf"></a-asset-item>
          <a-asset-item id="cy100" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/cylindergraduate2.gltf"></a-asset-item>

          <a-asset-item id="poste" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/Poste_travail_1gltf.gltf"></a-asset-item>
          <a-asset-item id="poste-top" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/t2.gltf"></a-asset-item>
          <a-asset-item id="sc-cab1" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/minivb3.gltf"></a-asset-item>
          <a-asset-item id="tray" preload="true" response-type="arraybuffer" src="./assets/bank/laboratoire/tray.gltf">
          </a-asset-item>
          <a-asset-item id="chem1" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/chemicals/b1a.gltf"></a-asset-item>
          <a-asset-item id="chem2" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/chemicals/b2.gltf"></a-asset-item>
          <a-asset-item id="chem3" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/chemicals/b3.gltf"></a-asset-item>
          <a-asset-item id="chem4" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/chemicals/p1.gltf"></a-asset-item>
          <a-asset-item id="chem5" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/chemicals/p2.gltf"></a-asset-item>
          <a-asset-item id="CaCO_3" preload="true" response-type="arraybuffer"
            src="./assets/bank/laboratoire/chemicals/CaCO_3.gltf"></a-asset-item>
          <a-asset-item id="valiseAa" preload="true" response-type="arraybuffer" src="./assets/bank/valise1Aa.gltf">
          </a-asset-item>
          <a-asset-item id="medicaltoolbox" preload="true" response-type="arraybuffer"
            src="./assets/bank/toolboxA.gltf"></a-asset-item>

          <a-asset-item id="baril1" preload="true" response-type="arraybuffer" src="./assets/bank/baril1.min.gltf">
          </a-asset-item>
          <a-asset-item id="baril2" preload="true" response-type="arraybuffer" src="./assets/bank/baril2.min.gltf">
          </a-asset-item>

          <a-asset-item id="baril3" preload="true" response-type="arraybuffer" src="./assets/bank/baril3.min.gltf">
          </a-asset-item>
          <a-asset-item id="baril1a" preload="true" response-type="arraybuffer" src="./assets/bank/baril1r.min.gltf">
          </a-asset-item>

          <a-asset-item id="pipes2" preload="true" response-type="arraybuffer" src="./assets/bank/pipes2.gltf">
          </a-asset-item>
          <a-asset-item id="colonnes" preload="true" response-type="arraybuffer" src="./assets/bank/colonnes.gltf">
          </a-asset-item>
          <a-asset-item id="lampspot" preload="true" response-type="arraybuffer" src="./assets/bank/lampspot2.gltf">
          </a-asset-item>
          <a-asset-item id="biblioa" preload="true" response-type="arraybuffer" src="./assets/bank/biblioa.gltf">
          </a-asset-item>
          <a-asset-item id="bookrow1a" preload="true" response-type="arraybuffer" src="./assets/bank/bookrow1a.gltf">
          </a-asset-item>
          <a-asset-item id="bookrow3a" preload="true" response-type="arraybuffer" src="./assets/bank/bookrow3a.gltf">
          </a-asset-item>
          <img id="floor" src="./assets/floor.png">

          <a-mixin id="area" material="color: blue; opacity: 0.1; shader: phong; side: double;"
            geometry="primitive: box; width: 2; height: 2; depth: 2;" aabb-collider="objects: a-player;"
            event-set__hitstart="material.opacity: 0.1; material.color: orange"
            event-set__hitend="material.opacity: 0.6; material.color: white"
            proxy-event__areaEnter="event: hitstart; to: CHILDREN; as: areaEnter;"
            proxy-event__areaLeave="event: hitend; to: CHILDREN; as: areaLeave;"></a-mixin>

          <a-mixin id="area_text" position="0 1.5 0" look-at="[camera]" scale="2 2 2"
            event-set__areaEnter="_event: areaEnter; position: -4 1.5 -4; text.color:yellow;"
            event-set__areaLeave="_event: areaLeave; text.color: white;"></a-mixin>

          <a-mixin id="area_sound" sound="on: areaEnter" event-set__areaEnter="_event: areaEnter; sound.volume: 1;"
            event-set__areaLeave="_event: areaLeave; sound.volume: 0;"></a-mixin>

          <a-mixin id="area_person" gltf-model="#robot" position="0 0 -4.5" person-events-component></a-mixin>
          <a-mixin id="er" animation-mixer='clip:ouvert; loop:once; clampWhenFinished:true;'></a-mixin>
          <a-mixin id="et" animation-mixer='clip:ferme; loop:once; clampWhenFinished:true;'></a-mixin>
          <a-mixin id="or" animation-mixer='clip:ouvrir; loop:once; clampWhenFinished:true;'></a-mixin>
          <a-mixin id="ot" animation-mixer='clip:fermer; loop:once; clampWhenFinished:true;'></a-mixin>
        </a-assets>
        <a-player shape locomotion grabbling id="rig" position="-1 0.3 0" data-aabb-collider-dynamic rotation="0 250 0">
          <a-entity camera="active: true" look-controls wasd-controls position="0 1 0" camera-position
            cursor="rayOrigin: mouse" raycaster="far: 100; objects: .raycastable;" loading-screen="enabled: false;">
            <a-entity id="lhand" position="-0.4 1.4 -0.5" oculus-touch-controls="hand: left" desktop-vr-controller>
            </a-entity>

            <a-entity id="rhand" position="0.4 1.4 -0.5" laser-controls="hand: right"
              raycaster="objects: .raycastable,[raycast-target]; far: Infinity; lineColor: red; lineOpacity: 0.5"
              laser-manipulation thumbstick-states__right="controller:#rhand;
                                  tBindings:moving-in,moving-out,rotating-y-plus,rotating-y-minus;
                                  tgBindings:rotating-x-plus,rotating-x-minus,rotating-y-plus,rotating-y-minus"
              oculus-touch-controls="hand: right" desktop-vr-controller>
            </a-entity>

            <a-sphere id="up-marker" position="0 10 0">
            </a-sphere>
            <a-sphere id="down-marker" position="0 -10 0">
            </a-sphere>
        </a-player>
        <a-main>
        <a-entity id="text1" mixin="text" text="value: Inspectez la pièce,"></a-entity>
        <a-entity id="text2" mixin="text" text="value: trouvez des indices; opacity: 0"
          animation__textcolor="property: text.color; from: #0069bf; to: #faa22a; dur: 2500; autoplay: false">
        </a-entity>
        <a-entity id="text3" mixin="text" text="value: pour ouvrir la porte." position="0 -10 0"
          animation__positionin="property: position; to: 0 2 -3; dur: 2500; autoplay: false"
          animation__positionout="property: position; from: 0 2 -3; to: -10 2 -3; dur: 3500; autoplay: false">
        </a-entity>
        <a-entity id="text4" mixin="text" text="value: No escape from reality."></a-entity>
        <a-plane position=" 4 0 -12" height="1" width="1" rotation="-90 0 0"></a-plane>

        <a-plane floor material=" color:black; repeat: 700 700; transparent: true;" height="100" width="100"
          rotation="-90 0 0"></a-plane>
        <a-sky color="#fff"></a-sky>
        <a-chooseobject id="chooseobject" position="8 0 1.05" object1="./assets/bank/baril1.min.gltf"
          object2="./assets/bank/baril1r.min.gltf" object3="./assets/bank/baril2.min.gltf"
          object4="./assets/bank/baril3.min.gltf" good="1" lockid="doorwall_5"></a-chooseobject>

        <!--<a-entity include="./scenes/alaboratory.html">
          '{
          "0": {"longueur":  5, "angle": 0, "door": "none","window": false, "material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_basecolor.jpg;height:450; repeat: 9 3; ambientOcclusionMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_normal.jpg; normalTextureRepeat: 9 3; displacementMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_height.png; displacementBias:0.0190; displacementScale:0.21;displacementTextureRepeat:9 3; roughness: 0.4; metalness: 0.4"},
          "1": { "longueur":  5, "angle": 60, "door": "left","window": false,"material":"side:double; shader: standard; src:./assets/Concrete_Wall_012_SD/Concrete_Wall_012_basecolor.jpg; height:1024; repeat: 15 5; ambientOcclusionMap:./assets/Concrete_Wall_012_SD/Concrete_Wall_012_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Concrete_Wall_012_SD/Concrete_Wall_012_normal.jpg; normalTextureRepeat: 9 3; normalTextureOffset: 9 3;displacementMap:./assets/Concrete_Wall_012_SD/Concrete_Wall_012_height.png; displacementBias:0.01; displacementScale:0.01;displacementTextureRepeat:9 3; roughness: 0.8; metalness: 0.1"},
          "2": { "longueur":  5, "angle": 120, "door": {"type":"center","open":false, "doorpannel": true},"window": false,"material":"side:double; shader: standard; src:./assets/Wall_Stone_021_SD/Substance_graph_BaseColor.jpg;height:2048; repeat: 6 2; ambientOcclusionMap:./assets/Wall_Stone_021_SD/Substance_graph_AmbientOcclusion.jpg; ambientOcclusionTextureRepeat:6 2;normalMap:./assets/Wall_Stone_021_SD/Substance_graph_Normal.jpg; normalTextureRepeat: 6 2; displacementMap:./assets/Wall_Stone_021_SD/Substance_graph_Height.png; displacementBias:0.005; displacementScale:0.15;displacementTextureRepeat:6 2; roughness: 0.8; metalness: 0.5"},
          "3": { "longueur":  5, "angle": 180, "door": "none","window": false,"material":"side:double; shader: standard; src:./assets/Metal_ArtDeco_Tiles_001_SD/Metal_ArtDeco_Tiles_001_basecolor.jpg;height:450; repeat: 6 2; ambientOcclusionMap:./assets/Metal_ArtDeco_Tiles_001_SD/Metal_ArtDeco_Tiles_001_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:6 2;normalMap:./assets/Metal_ArtDeco_Tiles_001_SD/Metal_ArtDeco_Tiles_001_normal.jpg; normalTextureRepeat: 6 2; displacementMap:./assets/Metal_ArtDeco_Tiles_001_SD/Metal_ArtDeco_Tiles_001_height.png; displacementBias:0.0; displacementScale:0.1;displacementTextureRepeat:6 2; roughness: 0.3; metalness: 0.9"},
          "4": { "longueur":  5, "angle": -120, "door": "none","window": false,"material":"side:double; shader: standard; src:./assets/Metal_Gold_001_SD/Metal_Gold_001_basecolor.jpg;height:450; repeat: 9 3; ambientOcclusionMap:./assets/Metal_Gold_001_SD/Metal_Gold_001_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Metal_Gold_001_SD/Metal_Gold_001_normal.jpg; normalTextureRepeat: 9 3; displacementMap:./assets/Metal_Gold_001_SD/Metal_Gold_001_height.png; displacementBias:0.0; displacementScale:0.1;displacementTextureRepeat:9 3; roughness: 0.3; metalness: 0.9"},
          "5": { "longueur":  5, "angle": -60, "door": {"type":"center","open":true, "doorpannel": true},"window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"}
         }'
        </a-entity>-->
        <a-recitroom id="room1" position="0 0 0" para='{
          "0": {"longueur":  5, "angle": 0, "door": "none","window": false, "material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"},
          "1": { "longueur":  5, "angle": 60, "door": "left","window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"},
          "2": { "longueur":  5, "angle": 120, "door": {"type":"center","open":false, "doorpannel": true},"window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"},
          "3": { "longueur":  5, "angle": 180, "door": "none","window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"},
          "4": { "longueur":  5, "angle": -120, "door": "none","window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"},
          "5": { "longueur":  5, "angle": -60, "door": {"type":"center","open":false, "doorpannel": true},"window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_basecolor.jpg;height:450; repeat:  12 6; ambientOcclusionMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_ambientOcclusion.jpg; ambientOcclusionTextureRepeat: 12 6;normalMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_normal.jpg; normalTextureRepeat: 12 6; displacementMap:./assets/Sci-Fi_Wall_011_SD/Sci-Fi_Wall_011_height.png; displacementBias:0.04; displacementScale:0.0;displacementTextureRepeat: 12 6; roughness: 0.2; metalness: 0.6"}
         }'>
         <a-gltf-model wall src="#biblioa"  position="1 0.0 4.5" rotation="0 90 0">
          <a-gltf-model src="#bookrow1a" position="0.05 0.7 -0.05" scale="0.9 0.9 0.9"></a-gltf-model>
          <a-gltf-model src="#bookrow3a" position="0.55 1.1 -0.02" scale="0.8 0.8 0.8"></a-gltf-model>

        </a-gltf-model>
        <a-gltf-model wall src="#biblioa"  position="2 0.0 4.5" rotation="0 90 0">
          <a-gltf-model src="#bookrow1a" position="0.05 0.7 -0.02" scale="0.9 0.9 0.9"></a-gltf-model>
          <a-gltf-model src="#bookrow3a" position="0.55 1.1 -0.02" scale="0.8 0.8 0.8"></a-gltf-model>
        </a-gltf-model>
        <a-gltf-model src="#biblioa"  position="3 0.0 4.5" rotation="0 90 0">
          <a-gltf-model src="#bookrow1a" position="0.05 0.7 -0.05" scale="0.9 0.9 0.9"></a-gltf-model>
          <a-gltf-model src="#bookrow3a" position="0.55 1.1 -0.02" scale="0.8 0.8 0.8"></a-gltf-model>

        </a-gltf-model>
        <a-gltf-model wall src="#biblioa"  position="4 0.0 4.5" rotation="0 90 0">
          <a-gltf-model src="#bookrow1a" position="0.05 0.7 -0.05" scale="0.9 0.9 0.9"></a-gltf-model>
          <a-gltf-model src="#bookrow3a" position="0.55 1.1 -0.02" scale="0.8 0.8 0.8"></a-gltf-model>
        </a-gltf-model>

        </a-recitroom>
        <a-recitroom wall id="room2" position="11.19 0 9.412" rotation="0 -150 0" para='{
          "0": {"longueur":  5, "angle": 0, "door":  {"type":"none","open":true},"window": false, "material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_basecolor.jpg;height:450; repeat: 9 3; ambientOcclusionMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_normal.jpg; normalTextureRepeat: 9 3; displacementMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_height.png; displacementBias:0.0190; displacementScale:0.21;displacementTextureRepeat:9 3; roughness: 0.4; metalness: 0.4"},
          "1": { "longueur":  5, "angle": 90, "door": {"type":"center","open":true, "doorpannel": false},"window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_basecolor.jpg;height:450; repeat: 9 3; ambientOcclusionMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_normal.jpg; normalTextureRepeat: 9 3; displacementMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_height.png; displacementBias:0.0190; displacementScale:0.21;displacementTextureRepeat:9 3; roughness: 0.4; metalness: 0.4"},
          "2": { "longueur":  5, "angle": 180, "door": {"type":"none","open":false},"window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_basecolor.jpg;height:450; repeat: 9 3; ambientOcclusionMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_normal.jpg; normalTextureRepeat: 9 3; displacementMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_height.png; displacementBias:0.0190; displacementScale:0.21;displacementTextureRepeat:9 3; roughness: 0.4; metalness: 0.4"},
          "3": { "longueur":  5, "angle": 270, "door": {"type":"left","open":false, "doorpannel": true},"window": false,"material":"side:double; shader: standard; src:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_basecolor.jpg;height:450; repeat: 9 3; ambientOcclusionMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_ambientOcclusion.jpg; ambientOcclusionTextureRepeat:9 3;normalMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_normal.jpg; normalTextureRepeat: 9 3; displacementMap:./assets/Sci-Fi_Wall_014_SD/Sci-Fi_Wall_014_height.png; displacementBias:0.0190; displacementScale:0.21;displacementTextureRepeat:9 3; roughness: 0.4; metalness: 0.4"}
          }'>
          <a-entity id="target1" position="0 1.5 3"></a-entity>
          <a-entity id="target2" position="2 1 0"></a-entity>
          <a-entity id="target3" position="3 2 3"></a-entity>
          <a-gltf-model src="#pipes2" injectregisterlock="" position="2.5 0 4 "></a-gltf-model>
          <a-gltf-model src="#colonnes" injectregisterlock="" position="2.5 0 2 "></a-gltf-model>
          <a-gltf-model src="#lampspot" position="2.5 0 2 "></a-gltf-model>
          <a-entity light="type: spot; angle: 10;  intensity: 0.01; target:#target1;" position="2.7 5.8  4.7">
          </a-entity>
          <a-fluorescent position="1 2  2.5" rotation="90 0 0" intensity="1.0"></a-fluorescent>
          <a-entity light="type: spot; angle:7;  intensity: 0.01; target:#target2;" position="2.7 5.8  4.7"></a-entity>
          <a-entity light="type: spot; angle: 10;  intensity: 0.01; target:#target3;" position="2.7 5.8  4.7">
          </a-entity>
        </a-recitroom>
        <!--   <a-entity include="./scenes/sphere-path.html"></a-entity>
          
         <a-entity mixin="area" position="0.384 0 -3.13">
             <a-sound mixin="area_sound" src="./assets/audio/miseencontexte.mp3"></a-sound>
            <a-text mixin="area_text" value="contexte"></a-text>
          </a-entity>
          <a-entity mixin="area" position="5.4 0 0.12" rotation="0 -30 0">
            <a-entity mixin="area_person"></a-entity>
            <a-sound mixin="area_sound" src="./assets/audio/miseencontexte.mp3"></a-sound>
            <a-text mixin="area_text" value="first area"></a-text>
        </a-entity>-->

        <a-gltf-model id="valiseAaa" src="#valiseAa" injectregisterlock="" position="5 0.2 4"></a-gltf-model>
        <a-gltf-model src="#medicaltoolbox" injectregisterlock="" position="5 0.2 4.5" animation-mixer="clip: ferme;">
        </a-gltf-model>

        <a-entity id="cursor" cursor="rayOrigin: mouse" raycaster="objects: [raycast-target]; far: Infinity"
          mouse-manipulation>
        </a-entity>

        <a-entity light="type: ambient; intensity: 1; color: #fff"></a-entity>

</a-main>
      </a-scene>
    </div>
    <div id="pan2" class="m-3"
      style="display: block ; width:10%; background-color: white; position:absolute; top:50px; right:120px; padding:12px;">
      <h4>Résultat : </h4>
      <h4 id="result">0: </h4>
    </div>
    </div>
    <button type="input" class="btn btn-primary" style="left:30px; top:30px; padding:12px; position:absolute; ; "
      id="ex20a">Paramètre de la scène</button>
    <button type="input" class="btn btn-primary" style="left:250px; top:30px; padding:12px; position:absolute; ; "
      id="ex20b">Édition de la scène</button>

    <div id="pan1" class="m-3"
      style="display: none ; width:50%; background-color: white; position:absolute; top:70px; left:20px; padding:12px;">

      <h1> Activité 1</h1>
      <form method="post">
        <div class="form-row">
          <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="select_class_layout">Sélectionnez la scène</label>
              <select class="custom-select custom-select-lg mb-6" id="select_player_type" onchange="select_change()">
                <option value='normal'>Scène 1</option>
                <option value='dyade'>Scène 2</option>
                <option value='quatuor'>Scène 3</option>
              </select>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="form-row">

              <div class="form-group">
                <label for="select_class_layout">Sélectionnez une interactivité à ajouter</label>
                <select class="custom-select custom-select-lg mb-6" id="select_player_type" onchange="select_change()">
                  <option value='normal'>a-chooseobject</option>
                  <option value='dyade'>a-cadena</option>
                  <option value='quatuor'>a-boite</option>
                </select>
              </div>
            </div>
          </div>
          <h2> Laboratoire 1: nom du labo</h2>
      </form>
      <form class="needs-validation" novalidate>
        <div class="form-row">
          <div class="col-md-6 mb-3">
            <label for="ex42">Paramètre 1</label>
            <input class="form-control" id="ex42" data-slider-id="ex26Slider" type="text" data-slider-min="0"
              data-slider-max="20" data-slider-step="1" data-slider-value="10" />
            <script>
              var slider = new Slider('#ex42');
              slider.refresh({
                useCurrentValue: true
              });
            </script>
            <div class="valid-tooltip">
              Looks good!
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <label for="ex43">Paramètre 2</label>
            <input class="form-control" id="ex43" data-slider-id="ex26Slider" type="text" data-slider-min="0"
              data-slider-max="20" data-slider-step="1" data-slider-value="10" />
            <script>
              var slider = new Slider('#ex43');
              slider.refresh({
                useCurrentValue: true
              });
            </script>
            <div class="valid-tooltip">
              Looks good!
            </div>
          </div>
          <div class="form-row">
            <div class="col-md-6 mb-3">
              <label for="ex52">Paramètre 3</label>
              <input class="form-control" id="ex52" data-slider-id="ex26Slider" type="text" data-slider-min="0"
                data-slider-max="20" data-slider-step="1" data-slider-value="10" />
              <script>
                var slider = new Slider('#ex52');
                slider.refresh({
                  useCurrentValue: true
                });
              </script>
              <div class="valid-tooltip">
                Looks good!
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="ex53">Paramètre 4</label>
              <input class="form-control" id="ex53" data-slider-id="ex26Slider" type="text" data-slider-min="0"
                data-slider-max="20" data-slider-step="1" data-slider-value="10" />
              <script>
                var slider = new Slider('#ex53');
                slider.refresh({
                  useCurrentValue: true
                });
              </script>
              <div class="valid-tooltip">
                Looks good!
              </div>
            </div>


            <button class="btn btn-primary" type="submit">Remmettre le labo</button>
      </form>
    </div>
    </div>
    <script>
      function select_change() {
        var classroom = querySelector("a-classroom");
        var ilayout = querySelectorall(".classroom").id;
        console.log(ilayout)

        var latout = document.getElementById("select_class_layout").value;
        switch (layout) {
          case (normal):
            break
          case (dyade):
            break
          case (quatuor):
            break
        }
        //document.getElementById("demo").innerHTML = "You selected: " + x;
      }


      $("#ex20a").click(function () {
        $('#pan1').toggle("slide", {
          direction: "right"
        }, 1000);
      });
      $("#ex20b").click(function () {
        $('#pan1').toggle("slide", {
          direction: "right"
        }, 1000);
      });

      /*var scene = document.querySelector('a-scene');
      var result = document.querySelector('#result');
      scene.eti = scene.systems.state.state.score;
      result.innerHTML = scene.eti;
      console.log(scene.eti)
      scene.addEventListener('increasescore', function () {
      scene.eti = scene.systems.state.state.score;
      result.innerHTML = scene.eti;
      console.log(scene.eti)
      });*/
    </script>
    <script>
      const ourlabel = document.querySelectorAll("[label]" || "[label-anchor]" || "[anchor]")
      if (ourlabel) {
        ourlabel.forEach(element => {
          //element.object3D.children[0].Mesh.sgetAttribute("visible")
          // console.log(element.object3D.children[0])
          element.setAttribute("visible", false)
          // element.object3D.children[0].Mesh.setAttribute("visible",false)
        });

        console.log("ourlabel")
      }
      //  console.log(ourlabel) 
    </script>
    < <script>
      /*camera-position cursor="rayOrigin: mouse"
      raycaster="far: 100; objects: .raycastable;" loading-screen="enabled: false;"
      environment="preset: moon; playArea:25; groundColor: black; grid: 1x1"*/
      </script>
  </body>

  </html>éé